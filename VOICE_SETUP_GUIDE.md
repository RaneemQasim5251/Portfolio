# 🎙️ دليل إعداد ميزات الصوت

## 🔑 المتطلبات الأساسية

### 1. **مفتاح ElevenLabs API**
1. قم بإنشاء حساب على [ElevenLabs](https://elevenlabs.io)
2. انسخ مفتاح API من لوحة التحكم
3. أضف المفتاح إلى ملف `.env.local`:
```env
ELEVENLABS_API_KEY=your-elevenlabs-api-key-here
```

### 2. **مفتاح OpenAI API (للتحويل من الصوت للنص)**
1. تأكد من أن مفتاح OpenAI موجود في `.env.local`:
```env
OPENAI_API_KEY=your-openai-api-key-here
```

## 🎯 الخطوات

1. **أنشئ ملف `.env.local`** في المجلد الرئيسي
2. **أضف المفاتيح المطلوبة** كما هو موضح أعلاه
3. **أعد تشغيل الخادم المحلي**:
```bash
npm run dev
```

## 🔧 إعدادات متقدمة (اختياري)

### تخصيص الأصوات
يمكنك تخصيص معرفات الأصوات في `.env.local`:
```env
# أصوات مخصصة (اختياري)
ELEVENLABS_VOICE_ID=pNInz6obpgDQGcFmaJgB # صوت عربي
ELEVENLABS_VOICE_ID_EN=EXAVITQu4vr4xnSDxMaL # صوت إنجليزي
ELEVENLABS_VOICE_ID_NARRATIVE=AZnzlk1XvdvUeBnXmlld # صوت سردي
```

## ⚠️ حل المشكلات الشائعة

### 1. خطأ "ElevenLabs API key not configured"
- تأكد من إضافة `ELEVENLABS_API_KEY` إلى `.env.local`
- تأكد من صحة المفتاح
- أعد تشغيل الخادم

### 2. خطأ "Failed to transcribe audio"
- تأكد من إضافة `OPENAI_API_KEY` إلى `.env.local`
- تأكد من تفعيل الميكروفون في المتصفح
- تأكد من تنسيق الصوت المدعوم (WAV)

### 3. مشاكل في الميكروفون
- امنح إذن الميكروفون للموقع
- تأكد من اختيار الميكروفون الصحيح
- جرب تحديث الصفحة

## 📝 ملاحظات

- يجب أن يكون لديك رصيد كافٍ في ElevenLabs
- الصوت العربي مدعوم بشكل كامل
- يمكنك تجربة أصوات مختلفة من ElevenLabs

## 🚀 اختبار النظام

1. انتقل إلى http://localhost:3001
2. اضغط على زر 🎤 للتسجيل
3. تحدث بالعربية أو الإنجليزية
4. انتظر الرد الصوتي

## 🆘 الدعم

إذا استمرت المشكلة:
1. تأكد من وجود جميع المفاتيح
2. تأكد من صلاحية المفاتيح
3. راجع سجلات الخطأ في وحدة التحكم
4. تأكد من دعم المتصفح للميكروفون 